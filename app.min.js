const _0x4f2a=["37 Rue du Millet, 77240 VERT-SAINT-DENIS, France","hauteur","btnEstimer","result","oui","non","<div class=\"warning\">Hauteur > 1 mètre : veuillez nous contacter par email à contact@jmageo.com</div>","adresse","n","Veuillez remplir tous les champs.","https://nominatim.openstreetmap.org/search?format=json&q=","JMAGEO-App"];function _0x1b3e(t){return t*Math.PI/180}function _0x2c91(t,e,n,o){const r=6371,a=_0x1b3e(n-t),i=_0x1b3e(o-e),c=Math.sin(a/2)**2+Math.cos(_0x1b3e(t))*Math.cos(_0x1b3e(n))*Math.sin(i/2)**2;return 2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))*r}async function _0x59e1(t){const e=await fetch(_0x4f2a[10]+encodeURIComponent(t),{headers:{"User-Agent":_0x4f2a[11]}}),n=await e.json();return n.length?{lat:parseFloat(n[0].lat),lon:parseFloat(n[0].lon)}:(alert("Adresse introuvable. Merci de vérifier."),null)}document.getElementById(_0x4f2a[1]).addEventListener("change",function(){const t=document.getElementById(_0x4f2a[2]),e=document.getElementById(_0x4f2a[3]);this.value===_0x4f2a[4]?(t.disabled=!1,e.innerHTML=""):this.value===_0x4f2a[5]?(t.disabled=!0,e.innerHTML=_0x4f2a[6]):(t.disabled=!0,e.innerHTML="")});async function calculerPrix(){const t=document.getElementById(_0x4f2a[7]).value.trim(),e=parseInt(document.getElementById(_0x4f2a[8]).value);if(!t||!e)return alert(_0x4f2a[9]);const n=await _0x59e1(_0x4f2a[0]),o=await _0x59e1(t);if(!n||!o)return;const r=1.3*_0x2c91(n.lat,n.lon,o.lat,o.lon);let a=300+3*r+(e<100?12*e:11*e);a=a.toFixed(2),document.getElementById("result").innerHTML=`Distance estimée : ${r.toFixed(2)} km <br> Prix estimatif : ${a} €`}
